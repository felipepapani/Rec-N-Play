<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Formulário para Monday.com</title>
</head>
<body>
  <h2>Cadastro de Novo Item no Monday</h2>
  <form id="mondayForm">
    <label for="name">Nome:</label>
    <input type="text" id="name" name="name" required><br><br>

    <label for="email">E-mail:</label>
    <input type="email" id="email" name="email" required><br><br>

    <button type="submit">Enviar</button>
  </form>

  <script>
    // aqui vai a URL do seu Worker (substitua pela sua)
    const WORKER_URL = "https://plain-butterfly-7001.programacao-e50.workers.dev/";
  
    document.getElementById("mondayForm")
      .addEventListener("submit", async function(e) {
        e.preventDefault();
  
        // pega os valores do formulário
        const name  = document.getElementById("name").value;
        const email = document.getElementById("email").value;
  
        // envia para o seu Worker, que faz o create_item no Monday
        try {
          const res = await fetch(WORKER_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, email })
          });
          const json = await res.json();
  
          if (res.ok && json.data?.create_item) {
            alert("Item criado com sucesso! ID: " + json.data.create_item.id);
          } else {
            console.error(json);
            alert("Erro: " + JSON.stringify(json.errors || json));
          }
        } catch (err) {
          console.error(err);
          alert("Falha na requisição: " + err.message);
        }
    });
  </script>
</body>
</html>
